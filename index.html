<!DOCTYPE html>
<html>
<head>
	<title>图像处理</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="src/css/style.css">
	<link rel="stylesheet" type="text/css" href="src/css/iconfont.css">
</head>
<body oncontextmenu="return false" onselectstart ="return false" >
	<div id="wrapper">
		<header id="header">
			<input type="file" accept="image/*" name="imageFile" style="display: none;" />
			<div id="home">
				<span class="iconfont">&#xe603;</span>
			</div>
			<nav id="header-nav">
				<ul>
					<li>
						<span>文件</span>
						<ul class="nav-sub">
							<li id="openFile">打开文件</li>
							<li id="openUrl">从URL打开</li>
							<li id="saveImage">保存图片</li>
						</ul>
					</li>
					<li>
						<span>图像</span>
						<ul class="nav-sub">
							<li>图像变换</li>
							<li>图像增强</li>
						</ul>
					</li>
					<li>
						<span>滤镜</span>
						<ul class="nav-sub">
							<li>黑白滤镜</li>
							<li>反色滤镜</li>
							<li>复古滤镜</li>
							<li>模糊滤镜</li>
						</ul>
					</li>
					<li>
						<span>模糊</span>
						<ul class="nav-sub">
							<li>马赛克</li>
							<li>均值模糊</li>
							<li>高斯模糊</li>
						</ul>
					</li>
					<li>
						<span>工具</span>
						<ul class="nav-sub">
							<li>剪切</li>
							<li>抠图</li>
							<li>画笔</li>
							<li>尺子</li>
							<li>橡皮擦</li>
							<li>吸管工具</li>
							<li>文本工具</li>
							<li>绘图工具</li>
						</ul>
					</li>
					<li>
						<span>设置</span>
					</li>
				</ul>
			</nav>
			<div id="toggle" class="iconfont"><span style="display: none;">&#xe738;</span><span>&#xe739;</span></div>
			<div id="header-logo">TX7238</div>
		</header>
		<main id="main">
			<nav id="main-nav">
				<div class="splitter-left" style="position: absolute; top: 0"></div>
				<ul>
					<li title="图像变换" id="txbh"><span class="iconfont">&#xe678;</span></li>
					<li title="图像增强" id="txzq"><span class="iconfont">&#xe65f;</span></li>
					<li title="剪切" id="jq"><span class="iconfont">&#xe634;</span></li>
					<li title="抠图" id="kt"><span class="iconfont">&#xe683;</span></li>
					<li title="拾色器" id="ssq"><span class="iconfont">&#xe64e;</span></li>
					<li title="画笔" id="hb"><span class="iconfont">&#xe60d;</span></li>
					<li title="橡皮擦" id="xpc"><span class="iconfont">&#xe698;</span></li>
					<li title="尺子" id="cz"><span class="iconfont">&#xe62c;</span></li>
					<li title="滤镜" id="lj"><span class="iconfont">&#xe669;</span></li>
					<li title="模糊" id="mh"><span class="iconfont">&#xe62a;</span></li>
					<li title="文本工具" id="wbgj"><span class="iconfont">&#xe601;</span></li>
					<li title="绘图工具" id="htgj"><span class="iconfont">&#xe606;</span></li>
				</ul>
			</nav>
			<div id="main-panel">
				<div class="splitter-left"></div>
				<span class="close">×</span>
				<div id="main-panel-title">图像处理</div>
				<div id="main-panel-content"></div>
				<div id="main-panel-oper">
					<button>取消</button>
					<button>应用</button>
				</div>
			</div>
			<div id="main-content" onmousewheel="return false">
				<div id="contains"></div>
			</div>
			<div id="main-right" class="toggle-show">
				<div class="splitter-right"></div>
				<div id="history" class="main-right-contains">
					<div id="history-header">历史记录</div>
					<div id="history-content">
						<ul>
							<li class="active"><span>截图</span><span class="iconfont">&#xe634;</span></li>
							<li><span>截图</span><span class="iconfont">&#xe634;</span></li>
							<li><span>截图</span><span class="iconfont">&#xe634;</span></li>
							<li><span>截图</span><span class="iconfont">&#xe634;</span></li>
							<li><span>截图</span><span class="iconfont">&#xe634;</span></li>
							<li><span>截图</span><span class="iconfont">&#xe634;</span></li>
							<li><span>截图</span><span class="iconfont">&#xe634;</span></li>
							<li><span>截图</span><span class="iconfont">&#xe634;</span></li>
							<li><span>截图</span><span class="iconfont">&#xe634;</span></li>
						</ul>
					</div>
					<div id="history-footer">
						<div class="iconfont history-oper">&#xe7c1; 上一步</div>
						<div class="iconfont history-oper">&#xe604; 下一步</div>
					</div>
				</div>
				<div class="splitter-right"></div>
				<div id="layer" class="main-right-contains">
					<div id="layer-header">图层</div>
					<div id="layer-content">
						<ul>
							<li class="active">
								<span class="iconfont show-canvas">&#xe60c;</span>
								<canvas width="42px" height="26px"></canvas>
								<div class="canvas-name">111.jpg</div>
								<span class="iconfont del-canvas">&#xe652;</span>
							</li>
							<li>
								<span class="iconfont show-canvas">&#xe60c;</span>
								<canvas width="42px" height="26px"></canvas>
								<div class="canvas-name">222.jpg</div>
								<span class="iconfont del-canvas">&#xe652;</span>
							</li>
							<li>
								<span class="iconfont show-canvas">&#xe60c;</span>
								<canvas width="42px" height="26px"></canvas>
								<div class="canvas-name">333.jpg</div>
								<span class="iconfont del-canvas">&#xe652;</span>
							</li>
							<li>
								<span class="iconfont show-canvas">&#xe60c;</span>
								<canvas width="42px" height="26px"></canvas>
								<div class="canvas-name">444.jpg</div>
								<span class="iconfont del-canvas">&#xe652;</span>
							</li>
							<li>
								<span class="iconfont show-canvas">&#xe60c;</span>
								<canvas width="42px" height="26px"></canvas>
								<div class="canvas-name">555.jpg</div>
								<span class="iconfont del-canvas">&#xe652;</span>
							</li>
							<li>
								<span class="iconfont show-canvas">&#xe60c;</span>
								<canvas width="42px" height="26px"></canvas>
								<div class="canvas-name">666.jpg</div>
								<span class="iconfont del-canvas">&#xe652;</span>
							</li>
							<li>
								<span class="iconfont show-canvas">&#xe60c;</span>
								<canvas width="42px" height="26px"></canvas>
								<div class="canvas-name">777.jpg</div>
								<span class="iconfont del-canvas">&#xe652;</span>
							</li>

						</ul>
					</div>
					<div id="layer-footer">
						<div class="iconfont layer-oper">&#xe602;</div>
						<div class="iconfont layer-oper">&#xe684;</div>
						<div class="iconfont layer-oper">&#xe647;</div>
					</div>
				</div>
			</div>
		</main>
		<footer id="footer">
			<div class="splitter-left"></div>
				<div id="content-info">
					<div id="image-size">1200*1900px</div>
					<div id="pos-info">X：<span>50</span>Y：<span>50</span></div>
					<div id="scale">
						<span class="iconfont">&#xe6c0;</span>
						<input type="range" name="range" min="0.1" max="5" step="0.1" value="1" />
						<span class="iconfont">&#xe684;</span>
						<input type="text" name="text" value="100%">
					</div>
				</div>
			<div class="splitter-right toggle-show"></div>
		</footer>
	</div>
	<dialog id="warning">
		<div class="model">
			<div class="model-header">
				<span>警告框</span>
				<span class="close">×</span>
			</div>
			<div class="splitter-right"></div>
			<div class="model-content">
				<p>是否删除当前画布？</p>
			</div>
			<div class="model-footer">
				<button>取消</button>
				<button>确定</button>
			</div>
		</div>
	</dialog>
	<dialog id="inputUrl">
		<div class="model">
			<div class="model-header">
				<span>打开图像网址</span>
				<span class="close">×</span>
			</div>
			<div class="splitter-right"></div>
			<div class="model-content">
				<input type="url" name="imgUrl" placeholder="在此处输入图片链接" />
			</div>
			<div class="model-footer">
				<button>取消</button>
				<button>加载</button>
			</div>
		</div>
	</dialog>
	<!-- 图像变换面板 -->
	<template id="txbh-template">
		<div id="txhb-panel" class="panel">
			<div>
				<label for="img-width">图像宽度：</label>
				<input type="number" id="img-width" min="0" disabled />
			</div>
			<div>
				<label for="img-height">图像长度：</label>
				<input type="number" id="img-height" min="0" disabled/>
			</div>
			<div>
				<label for="rotateAngle">旋转角度：</label>
				<input type="number" id="rotateAngle" min="-360" max="360" value="0" disabled/>
			</div>
			<div>
				<label for="img-posX">图像位置(X)：</label>
				<input type="number" id="img-posX" min="0" disabled/>
			</div>
			<div>
				<label for="img-posY">图像位置(Y)：</label>
				<input type="number" id="img-posY" min="0" disabled/>
			</div>
		</div>
	</template>
	<!-- 图像增强面板 -->
	<template id="txzq-template">
		<div id="txzq-panel" class="panel">
			<div>
				<label for="brightness">亮度：</label>
				<input type="range" id="brightness" min="-255" max="255" value="0" />
			</div>
			<div>
				<label for="opacity">透明度：</label>
				<input type="range" id="opacity" min="0" step="0.01" max="1" value="1" />
			</div>
		</div>
	</template>
	<!-- 剪切 -->
	<script type="text/javascript" src="./src/js/layer/ImageLayer.js"></script>
	<script type="text/javascript" src="./src/js/layer/TextLayer.js"></script>
	<script type="text/javascript" src="./src/js/layer/GraphLayer.js"></script>
	<script type="text/javascript" src="src/js/pageConfig.js"></script>
	<script type="text/javascript" src="src/js/tools.js"></script>
	<script type="text/javascript">
		window.onload = ()=>{
			if(navigator.userAgent.indexOf('AppleWebKit') === -1){
				document.body.removeChild(document.body.firstElementChild);
				alert("页面涉及大量HTML5内容，请使用最新版谷歌浏览器打开！！！");
				return;
			}
			pageConfig.bindEvent();
			tools.bindEvent();
		}
	</script>
</body>
</html>
